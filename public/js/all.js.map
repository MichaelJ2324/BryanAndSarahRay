{"version":3,"sources":["util.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["(function($) {\r\n\r\n\t/**\r\n\t * Generate an indented list of links from a nav. Meant for use with panel().\r\n\t * @return {jQuery} jQuery object.\r\n\t */\r\n\t$.fn.navList = function() {\r\n\r\n\t\tvar\t$this = $(this);\r\n\t\t\t$a = $this.find('a'),\r\n\t\t\tb = [];\r\n\r\n\t\t$a.each(function() {\r\n\r\n\t\t\tvar\t$this = $(this),\r\n\t\t\t\tindent = Math.max(0, $this.parents('li').length - 1),\r\n\t\t\t\thref = $this.attr('href'),\r\n\t\t\t\ttarget = $this.attr('target');\r\n\r\n\t\t\tb.push(\r\n\t\t\t\t'<a ' +\r\n\t\t\t\t\t'class=\"link depth-' + indent + '\"' +\r\n\t\t\t\t\t( (typeof target !== 'undefined' && target != '') ? ' target=\"' + target + '\"' : '') +\r\n\t\t\t\t\t( (typeof href !== 'undefined' && href != '') ? ' href=\"' + href + '\"' : '') +\r\n\t\t\t\t'>' +\r\n\t\t\t\t\t'<span class=\"indent-' + indent + '\"></span>' +\r\n\t\t\t\t\t$this.text() +\r\n\t\t\t\t'</a>'\r\n\t\t\t);\r\n\r\n\t\t});\r\n\r\n\t\treturn b.join('');\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Panel-ify an element.\r\n\t * @param {object} userConfig User config.\r\n\t * @return {jQuery} jQuery object.\r\n\t */\r\n\t$.fn.panel = function(userConfig) {\r\n\r\n\t\t// No elements?\r\n\t\t\tif (this.length == 0)\r\n\t\t\t\treturn $this;\r\n\r\n\t\t// Multiple elements?\r\n\t\t\tif (this.length > 1) {\r\n\r\n\t\t\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\t\t\t$(this[i]).panel(userConfig);\r\n\r\n\t\t\t\treturn $this;\r\n\r\n\t\t\t}\r\n\r\n\t\t// Vars.\r\n\t\t\tvar\t$this = $(this),\r\n\t\t\t\t$body = $('body'),\r\n\t\t\t\t$window = $(window),\r\n\t\t\t\tid = $this.attr('id'),\r\n\t\t\t\tconfig;\r\n\r\n\t\t// Config.\r\n\t\t\tconfig = $.extend({\r\n\r\n\t\t\t\t// Delay.\r\n\t\t\t\t\tdelay: 0,\r\n\r\n\t\t\t\t// Hide panel on link click.\r\n\t\t\t\t\thideOnClick: false,\r\n\r\n\t\t\t\t// Hide panel on escape keypress.\r\n\t\t\t\t\thideOnEscape: false,\r\n\r\n\t\t\t\t// Hide panel on swipe.\r\n\t\t\t\t\thideOnSwipe: false,\r\n\r\n\t\t\t\t// Reset scroll position on hide.\r\n\t\t\t\t\tresetScroll: false,\r\n\r\n\t\t\t\t// Reset forms on hide.\r\n\t\t\t\t\tresetForms: false,\r\n\r\n\t\t\t\t// Side of viewport the panel will appear.\r\n\t\t\t\t\tside: null,\r\n\r\n\t\t\t\t// Target element for \"class\".\r\n\t\t\t\t\ttarget: $this,\r\n\r\n\t\t\t\t// Class to toggle.\r\n\t\t\t\t\tvisibleClass: 'visible'\r\n\r\n\t\t\t}, userConfig);\r\n\r\n\t\t\t// Expand \"target\" if it's not a jQuery object already.\r\n\t\t\t\tif (typeof config.target != 'jQuery')\r\n\t\t\t\t\tconfig.target = $(config.target);\r\n\r\n\t\t// Panel.\r\n\r\n\t\t\t// Methods.\r\n\t\t\t\t$this._hide = function(event) {\r\n\r\n\t\t\t\t\t// Already hidden? Bail.\r\n\t\t\t\t\t\tif (!config.target.hasClass(config.visibleClass))\r\n\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t// If an event was provided, cancel it.\r\n\t\t\t\t\t\tif (event) {\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Hide.\r\n\t\t\t\t\t\tconfig.target.removeClass(config.visibleClass);\r\n\r\n\t\t\t\t\t// Post-hide stuff.\r\n\t\t\t\t\t\twindow.setTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t// Reset scroll position.\r\n\t\t\t\t\t\t\t\tif (config.resetScroll)\r\n\t\t\t\t\t\t\t\t\t$this.scrollTop(0);\r\n\r\n\t\t\t\t\t\t\t// Reset forms.\r\n\t\t\t\t\t\t\t\tif (config.resetForms)\r\n\t\t\t\t\t\t\t\t\t$this.find('form').each(function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.reset();\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}, config.delay);\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t// Vendor fixes.\r\n\t\t\t\t$this\r\n\t\t\t\t\t.css('-ms-overflow-style', '-ms-autohiding-scrollbar')\r\n\t\t\t\t\t.css('-webkit-overflow-scrolling', 'touch');\r\n\r\n\t\t\t// Hide on click.\r\n\t\t\t\tif (config.hideOnClick) {\r\n\r\n\t\t\t\t\t$this.find('a')\r\n\t\t\t\t\t\t.css('-webkit-tap-highlight-color', 'rgba(0,0,0,0)');\r\n\r\n\t\t\t\t\t$this\r\n\t\t\t\t\t\t.on('click', 'a', function(event) {\r\n\r\n\t\t\t\t\t\t\tvar $a = $(this),\r\n\t\t\t\t\t\t\t\thref = $a.attr('href'),\r\n\t\t\t\t\t\t\t\ttarget = $a.attr('target');\r\n\r\n\t\t\t\t\t\t\tif (!href || href == '#' || href == '' || href == '#' + id)\r\n\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t\t// Cancel original event.\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t\t\t\t// Hide panel.\r\n\t\t\t\t\t\t\t\t$this._hide();\r\n\r\n\t\t\t\t\t\t\t// Redirect to href.\r\n\t\t\t\t\t\t\t\twindow.setTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t\t\tif (target == '_blank')\r\n\t\t\t\t\t\t\t\t\t\twindow.open(href);\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\twindow.location.href = href;\r\n\r\n\t\t\t\t\t\t\t\t}, config.delay + 10);\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t// Event: Touch stuff.\r\n\t\t\t\t$this.on('touchstart', function(event) {\r\n\r\n\t\t\t\t\t$this.touchPosX = event.originalEvent.touches[0].pageX;\r\n\t\t\t\t\t$this.touchPosY = event.originalEvent.touches[0].pageY;\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\t$this.on('touchmove', function(event) {\r\n\r\n\t\t\t\t\tif ($this.touchPosX === null\r\n\t\t\t\t\t||\t$this.touchPosY === null)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tvar\tdiffX = $this.touchPosX - event.originalEvent.touches[0].pageX,\r\n\t\t\t\t\t\tdiffY = $this.touchPosY - event.originalEvent.touches[0].pageY,\r\n\t\t\t\t\t\tth = $this.outerHeight(),\r\n\t\t\t\t\t\tts = ($this.get(0).scrollHeight - $this.scrollTop());\r\n\r\n\t\t\t\t\t// Hide on swipe?\r\n\t\t\t\t\t\tif (config.hideOnSwipe) {\r\n\r\n\t\t\t\t\t\t\tvar result = false,\r\n\t\t\t\t\t\t\t\tboundary = 20,\r\n\t\t\t\t\t\t\t\tdelta = 50;\r\n\r\n\t\t\t\t\t\t\tswitch (config.side) {\r\n\r\n\t\t\t\t\t\t\t\tcase 'left':\r\n\t\t\t\t\t\t\t\t\tresult = (diffY < boundary && diffY > (-1 * boundary)) && (diffX > delta);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\t\t\t\tresult = (diffY < boundary && diffY > (-1 * boundary)) && (diffX < (-1 * delta));\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'top':\r\n\t\t\t\t\t\t\t\t\tresult = (diffX < boundary && diffX > (-1 * boundary)) && (diffY > delta);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'bottom':\r\n\t\t\t\t\t\t\t\t\tresult = (diffX < boundary && diffX > (-1 * boundary)) && (diffY < (-1 * delta));\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (result) {\r\n\r\n\t\t\t\t\t\t\t\t$this.touchPosX = null;\r\n\t\t\t\t\t\t\t\t$this.touchPosY = null;\r\n\t\t\t\t\t\t\t\t$this._hide();\r\n\r\n\t\t\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Prevent vertical scrolling past the top or bottom.\r\n\t\t\t\t\t\tif (($this.scrollTop() < 0 && diffY < 0)\r\n\t\t\t\t\t\t|| (ts > (th - 2) && ts < (th + 2) && diffY > 0)) {\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t// Event: Prevent certain events inside the panel from bubbling.\r\n\t\t\t\t$this.on('click touchend touchstart touchmove', function(event) {\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t});\r\n\r\n\t\t\t// Event: Hide panel if a child anchor tag pointing to its ID is clicked.\r\n\t\t\t\t$this.on('click', 'a[href=\"#' + id + '\"]', function(event) {\r\n\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t\tconfig.target.removeClass(config.visibleClass);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t// Body.\r\n\r\n\t\t\t// Event: Hide panel on body click/tap.\r\n\t\t\t\t$body.on('click touchend', function(event) {\r\n\t\t\t\t\t$this._hide(event);\r\n\t\t\t\t});\r\n\r\n\t\t\t// Event: Toggle.\r\n\t\t\t\t$body.on('click', 'a[href=\"#' + id + '\"]', function(event) {\r\n\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t\tconfig.target.toggleClass(config.visibleClass);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t// Window.\r\n\r\n\t\t\t// Event: Hide on ESC.\r\n\t\t\t\tif (config.hideOnEscape)\r\n\t\t\t\t\t$window.on('keydown', function(event) {\r\n\r\n\t\t\t\t\t\tif (event.keyCode == 27)\r\n\t\t\t\t\t\t\t$this._hide(event);\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\treturn $this;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Apply \"placeholder\" attribute polyfill to one or more forms.\r\n\t * @return {jQuery} jQuery object.\r\n\t */\r\n\t$.fn.placeholder = function() {\r\n\r\n\t\t// Browser natively supports placeholders? Bail.\r\n\t\t\tif (typeof (document.createElement('input')).placeholder != 'undefined')\r\n\t\t\t\treturn $(this);\r\n\r\n\t\t// No elements?\r\n\t\t\tif (this.length == 0)\r\n\t\t\t\treturn $this;\r\n\r\n\t\t// Multiple elements?\r\n\t\t\tif (this.length > 1) {\r\n\r\n\t\t\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\t\t\t$(this[i]).placeholder();\r\n\r\n\t\t\t\treturn $this;\r\n\r\n\t\t\t}\r\n\r\n\t\t// Vars.\r\n\t\t\tvar $this = $(this);\r\n\r\n\t\t// Text, TextArea.\r\n\t\t\t$this.find('input[type=text],textarea')\r\n\t\t\t\t.each(function() {\r\n\r\n\t\t\t\t\tvar i = $(this);\r\n\r\n\t\t\t\t\tif (i.val() == ''\r\n\t\t\t\t\t||  i.val() == i.attr('placeholder'))\r\n\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t.addClass('polyfill-placeholder')\r\n\t\t\t\t\t\t\t.val(i.attr('placeholder'));\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.on('blur', function() {\r\n\r\n\t\t\t\t\tvar i = $(this);\r\n\r\n\t\t\t\t\tif (i.attr('name').match(/-polyfill-field$/))\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tif (i.val() == '')\r\n\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t.addClass('polyfill-placeholder')\r\n\t\t\t\t\t\t\t.val(i.attr('placeholder'));\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.on('focus', function() {\r\n\r\n\t\t\t\t\tvar i = $(this);\r\n\r\n\t\t\t\t\tif (i.attr('name').match(/-polyfill-field$/))\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tif (i.val() == i.attr('placeholder'))\r\n\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t.removeClass('polyfill-placeholder')\r\n\t\t\t\t\t\t\t.val('');\r\n\r\n\t\t\t\t});\r\n\r\n\t\t// Password.\r\n\t\t\t$this.find('input[type=password]')\r\n\t\t\t\t.each(function() {\r\n\r\n\t\t\t\t\tvar i = $(this);\r\n\t\t\t\t\tvar x = $(\r\n\t\t\t\t\t\t\t\t$('<div>')\r\n\t\t\t\t\t\t\t\t\t.append(i.clone())\r\n\t\t\t\t\t\t\t\t\t.remove()\r\n\t\t\t\t\t\t\t\t\t.html()\r\n\t\t\t\t\t\t\t\t\t.replace(/type=\"password\"/i, 'type=\"text\"')\r\n\t\t\t\t\t\t\t\t\t.replace(/type=password/i, 'type=text')\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (i.attr('id') != '')\r\n\t\t\t\t\t\tx.attr('id', i.attr('id') + '-polyfill-field');\r\n\r\n\t\t\t\t\tif (i.attr('name') != '')\r\n\t\t\t\t\t\tx.attr('name', i.attr('name') + '-polyfill-field');\r\n\r\n\t\t\t\t\tx.addClass('polyfill-placeholder')\r\n\t\t\t\t\t\t.val(x.attr('placeholder')).insertAfter(i);\r\n\r\n\t\t\t\t\tif (i.val() == '')\r\n\t\t\t\t\t\ti.hide();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tx.hide();\r\n\r\n\t\t\t\t\ti\r\n\t\t\t\t\t\t.on('blur', function(event) {\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t\tvar x = i.parent().find('input[name=' + i.attr('name') + '-polyfill-field]');\r\n\r\n\t\t\t\t\t\t\tif (i.val() == '') {\r\n\r\n\t\t\t\t\t\t\t\ti.hide();\r\n\t\t\t\t\t\t\t\tx.show();\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tx\r\n\t\t\t\t\t\t.on('focus', function(event) {\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t\tvar i = x.parent().find('input[name=' + x.attr('name').replace('-polyfill-field', '') + ']');\r\n\r\n\t\t\t\t\t\t\tx.hide();\r\n\r\n\t\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t\t.show()\r\n\t\t\t\t\t\t\t\t.focus();\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('keypress', function(event) {\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tx.val('');\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\t// Events.\r\n\t\t\t$this\r\n\t\t\t\t.on('submit', function() {\r\n\r\n\t\t\t\t\t$this.find('input[type=text],input[type=password],textarea')\r\n\t\t\t\t\t\t.each(function(event) {\r\n\r\n\t\t\t\t\t\t\tvar i = $(this);\r\n\r\n\t\t\t\t\t\t\tif (i.attr('name').match(/-polyfill-field$/))\r\n\t\t\t\t\t\t\t\ti.attr('name', '');\r\n\r\n\t\t\t\t\t\t\tif (i.val() == i.attr('placeholder')) {\r\n\r\n\t\t\t\t\t\t\t\ti.removeClass('polyfill-placeholder');\r\n\t\t\t\t\t\t\t\ti.val('');\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.on('reset', function(event) {\r\n\r\n\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t$this.find('select')\r\n\t\t\t\t\t\t.val($('option:first').val());\r\n\r\n\t\t\t\t\t$this.find('input,textarea')\r\n\t\t\t\t\t\t.each(function() {\r\n\r\n\t\t\t\t\t\t\tvar i = $(this),\r\n\t\t\t\t\t\t\t\tx;\r\n\r\n\t\t\t\t\t\t\ti.removeClass('polyfill-placeholder');\r\n\r\n\t\t\t\t\t\t\tswitch (this.type) {\r\n\r\n\t\t\t\t\t\t\t\tcase 'submit':\r\n\t\t\t\t\t\t\t\tcase 'reset':\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'password':\r\n\t\t\t\t\t\t\t\t\ti.val(i.attr('defaultValue'));\r\n\r\n\t\t\t\t\t\t\t\t\tx = i.parent().find('input[name=' + i.attr('name') + '-polyfill-field]');\r\n\r\n\t\t\t\t\t\t\t\t\tif (i.val() == '') {\r\n\t\t\t\t\t\t\t\t\t\ti.hide();\r\n\t\t\t\t\t\t\t\t\t\tx.show();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\ti.show();\r\n\t\t\t\t\t\t\t\t\t\tx.hide();\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'checkbox':\r\n\t\t\t\t\t\t\t\tcase 'radio':\r\n\t\t\t\t\t\t\t\t\ti.attr('checked', i.attr('defaultValue'));\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\t\tcase 'textarea':\r\n\t\t\t\t\t\t\t\t\ti.val(i.attr('defaultValue'));\r\n\r\n\t\t\t\t\t\t\t\t\tif (i.val() == '') {\r\n\t\t\t\t\t\t\t\t\t\ti.addClass('polyfill-placeholder');\r\n\t\t\t\t\t\t\t\t\t\ti.val(i.attr('placeholder'));\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\ti.val(i.attr('defaultValue'));\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\treturn $this;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Moves elements to/from the first positions of their respective parents.\r\n\t * @param {jQuery} $elements Elements (or selector) to move.\r\n\t * @param {bool} condition If true, moves elements to the top. Otherwise, moves elements back to their original locations.\r\n\t */\r\n\t$.prioritize = function($elements, condition) {\r\n\r\n\t\tvar key = '__prioritize';\r\n\r\n\t\t// Expand $elements if it's not already a jQuery object.\r\n\t\t\tif (typeof $elements != 'jQuery')\r\n\t\t\t\t$elements = $($elements);\r\n\r\n\t\t// Step through elements.\r\n\t\t\t$elements.each(function() {\r\n\r\n\t\t\t\tvar\t$e = $(this), $p,\r\n\t\t\t\t\t$parent = $e.parent();\r\n\r\n\t\t\t\t// No parent? Bail.\r\n\t\t\t\t\tif ($parent.length == 0)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// Not moved? Move it.\r\n\t\t\t\t\tif (!$e.data(key)) {\r\n\r\n\t\t\t\t\t\t// Condition is false? Bail.\r\n\t\t\t\t\t\t\tif (!condition)\r\n\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t// Get placeholder (which will serve as our point of reference for when this element needs to move back).\r\n\t\t\t\t\t\t\t$p = $e.prev();\r\n\r\n\t\t\t\t\t\t\t// Couldn't find anything? Means this element's already at the top, so bail.\r\n\t\t\t\t\t\t\t\tif ($p.length == 0)\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t// Move element to top of parent.\r\n\t\t\t\t\t\t\t$e.prependTo($parent);\r\n\r\n\t\t\t\t\t\t// Mark element as moved.\r\n\t\t\t\t\t\t\t$e.data(key, $p);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t// Moved already?\r\n\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\t// Condition is true? Bail.\r\n\t\t\t\t\t\t\tif (condition)\r\n\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t$p = $e.data(key);\r\n\r\n\t\t\t\t\t\t// Move element back to its original location (using our placeholder).\r\n\t\t\t\t\t\t\t$e.insertAfter($p);\r\n\r\n\t\t\t\t\t\t// Unmark element as moved.\r\n\t\t\t\t\t\t\t$e.removeData(key);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t};\r\n\r\n})(jQuery);","/*\r\n\tForty by HTML5 UP\r\n\thtml5up.net | @ajlkn\r\n\tFree for personal and commercial use under the CCA 3.0 license (html5up.net/license)\r\n*/\r\n\r\n(function($) {\r\n\r\n\tskel.breakpoints({\r\n\t\txlarge: '(max-width: 1680px)',\r\n\t\tlarge: '(max-width: 1280px)',\r\n\t\tmedium: '(max-width: 980px)',\r\n\t\tsmall: '(max-width: 736px)',\r\n\t\txsmall: '(max-width: 480px)',\r\n\t\txxsmall: '(max-width: 360px)'\r\n\t});\r\n\r\n\t/**\r\n\t * Applies parallax scrolling to an element's background image.\r\n\t * @return {jQuery} jQuery object.\r\n\t */\r\n\t$.fn._parallax = (skel.vars.browser == 'ie' || skel.vars.browser == 'edge' || skel.vars.mobile) ? function() { return $(this) } : function(intensity) {\r\n\r\n\t\tvar\t$window = $(window),\r\n\t\t\t$this = $(this);\r\n\r\n\t\tif (this.length == 0 || intensity === 0)\r\n\t\t\treturn $this;\r\n\r\n\t\tif (this.length > 1) {\r\n\r\n\t\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\t\t$(this[i])._parallax(intensity);\r\n\r\n\t\t\treturn $this;\r\n\r\n\t\t}\r\n\r\n\t\tif (!intensity)\r\n\t\t\tintensity = 0.25;\r\n\r\n\t\t$this.each(function() {\r\n\r\n\t\t\tvar $t = $(this),\r\n\t\t\t\ton, off;\r\n\r\n\t\t\ton = function() {\r\n\r\n\t\t\t\t$t.css('background-position', 'center 100%, center 100%, center 0px');\r\n\r\n\t\t\t\t$window\r\n\t\t\t\t\t.on('scroll._parallax', function() {\r\n\r\n\t\t\t\t\t\tvar pos = parseInt($window.scrollTop()) - parseInt($t.position().top);\r\n\r\n\t\t\t\t\t\t$t.css('background-position', 'center ' + (pos * (-1 * intensity)) + 'px');\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t};\r\n\r\n\t\t\toff = function() {\r\n\r\n\t\t\t\t$t\r\n\t\t\t\t\t.css('background-position', '');\r\n\r\n\t\t\t\t$window\r\n\t\t\t\t\t.off('scroll._parallax');\r\n\r\n\t\t\t};\r\n\r\n\t\t\tskel.on('change', function() {\r\n\r\n\t\t\t\tif (skel.breakpoint('medium').active)\r\n\t\t\t\t\t(off)();\r\n\t\t\t\telse\r\n\t\t\t\t\t(on)();\r\n\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\t\t$window\r\n\t\t\t.off('load._parallax resize._parallax')\r\n\t\t\t.on('load._parallax resize._parallax', function() {\r\n\t\t\t\t$window.trigger('scroll');\r\n\t\t\t});\r\n\r\n\t\treturn $(this);\r\n\r\n\t};\r\n\r\n\t$(function() {\r\n\r\n\t\tvar\t$window = $(window),\r\n\t\t\t$body = $('body'),\r\n\t\t\t$wrapper = $('#wrapper'),\r\n\t\t\t$header = $('#header'),\r\n\t\t\t$banner = $('#banner'),\r\n\t\t\t$currentArticle = $('#current-article');\r\n\r\n\t\t// Disable animations/transitions until the page has loaded.\r\n\t\t\t$body.addClass('is-loading');\r\n\r\n\t\t\t$window.on('load pageshow', function() {\r\n\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t$body.removeClass('is-loading');\r\n\t\t\t\t}, 100);\r\n\t\t\t});\r\n\r\n\t\t// Clear transitioning state on unload/hide.\r\n\t\t\t$window.on('unload pagehide', function() {\r\n\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t$('.is-transitioning').removeClass('is-transitioning');\r\n\t\t\t\t}, 250);\r\n\t\t\t});\r\n\r\n\t\t// Fix: Enable IE-only tweaks.\r\n\t\t\tif (skel.vars.browser == 'ie' || skel.vars.browser == 'edge')\r\n\t\t\t\t$body.addClass('is-ie');\r\n\r\n\t\t// Fix: Placeholder polyfill.\r\n\t\t\t$('form').placeholder();\r\n\r\n\t\t// Prioritize \"important\" elements on medium.\r\n\t\t\tskel.on('+medium -medium', function() {\r\n\t\t\t\t$.prioritize(\r\n\t\t\t\t\t'.important\\\\28 medium\\\\29',\r\n\t\t\t\t\tskel.breakpoint('medium').active\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t// Scrolly.\r\n\t\t/*\r\n\t\t\t$('.scrolly').scrolly({\r\n\t\t\t\toffset: function() {\r\n\t\t\t\t\treturn $header.height() - 2;\r\n\t\t\t\t}\r\n\t\t\t});*/\r\n\r\n\t\t\tvar $articleCloseBtn = $currentArticle.find('.close');\r\n\t\t\t$articleCloseBtn.on('click',function(){\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t$body.removeClass('article-open');\r\n\t\t\t\t$currentArticle.find('.content').html('');\r\n\t\t\t});\r\n\r\n\t\t// Tiles.\r\n\t\t\tvar $tiles = $('.tiles > article');\r\n\r\n\t\t\t$tiles.each(function() {\r\n\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\t$link = $this.find('.link'),\r\n\t\t\t\t\tx;\r\n\r\n\t\t\t\t// Link.\r\n\t\t\t\t\tif ($link.length > 0) {\r\n\r\n\t\t\t\t\t\t$x = $link.clone()\r\n\t\t\t\t\t\t\t.text('')\r\n\t\t\t\t\t\t\t.addClass('primary')\r\n\t\t\t\t\t\t\t.appendTo($this);\r\n\r\n\t\t\t\t\t\t$link = $link.add($x);\r\n\r\n\t\t\t\t\t\t$link.on('click', function(event) {\r\n\r\n\t\t\t\t\t\t\tvar href = $link.attr('href');\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif (href.indexOf('#') == 0){\r\n\t\t\t\t\t\t\t\t$body.addClass('article-open');\r\n\t\t\t\t\t\t\t\tvar $contentDiv = $currentArticle.find('.content');\r\n\t\t\t\t\t\t\t\tvar content = $this.find('.content').html();\r\n\t\t\t\t\t\t\t\t$contentDiv.html(content);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t// Start transitioning.\r\n\t\t\t\t\t\t\t\t$this.addClass('is-transitioning');\r\n\t\t\t\t\t\t\t\t$wrapper.addClass('is-transitioning');\r\n\r\n\t\t\t\t\t\t\t\t// Redirect.\r\n\t\t\t\t\t\t\t\twindow.setTimeout(function() {\r\n\r\n\t\t\t\t\t\t\t\t\tif ($link.attr('target') == '_blank')\r\n\t\t\t\t\t\t\t\t\t\twindow.open(href);\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\tlocation.href = href;\r\n\r\n\t\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t// Header.\r\n\t\t\tif (skel.vars.IEVersion < 9)\r\n\t\t\t\t$header.removeClass('alt');\r\n\r\n\t\t\tif ($banner.length > 0\r\n\t\t\t&&\t$header.hasClass('alt')) {\r\n\r\n\t\t\t\t$window.on('resize', function() {\r\n\t\t\t\t\t$window.trigger('scroll');\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$window.on('load', function() {\r\n\r\n\t\t\t\t\t$banner.scrollex({\r\n\t\t\t\t\t\tbottom:\t\t$header.height() + 10,\r\n\t\t\t\t\t\tterminate:\tfunction() { $header.removeClass('alt'); },\r\n\t\t\t\t\t\tenter:\t\tfunction() { $header.addClass('alt'); },\r\n\t\t\t\t\t\tleave:\t\tfunction() { $header.removeClass('alt'); $header.addClass('reveal'); }\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t\t$window.triggerHandler('scroll');\r\n\t\t\t\t\t}, 100);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t// Banner.\r\n\t\t\t/**$banner.each(function() {\r\n\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\t$image = $this.find('.image'), $img = $image.find('img');\r\n\r\n\t\t\t\t// Parallax.\r\n\t\t\t\t\t$this._parallax(0.275);\r\n\r\n\t\t\t\t// Image.\r\n\t\t\t\t\tif ($image.length > 0) {\r\n\r\n\t\t\t\t\t\t// Set image.\r\n\t\t\t\t\t\t\t$this.css('background-image', 'url(' + $img.attr('src') + ')');\r\n\r\n\t\t\t\t\t\t// Hide original.\r\n\t\t\t\t\t\t\t$image.hide();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t});**/\r\n\r\n\t\t// Menu.\r\n\t\t\tvar $menu = $('#menu'),\r\n\t\t\t\t$menuInner;\r\n\r\n\t\t\t$menu.wrapInner('<div class=\"inner\"></div>');\r\n\t\t\t$menuInner = $menu.children('.inner');\r\n\t\t\t$menu._locked = false;\r\n\r\n\t\t\t$menu._lock = function() {\r\n\r\n\t\t\t\tif ($menu._locked)\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t$menu._locked = true;\r\n\r\n\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t$menu._locked = false;\r\n\t\t\t\t}, 350);\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t};\r\n\r\n\t\t\t$menu._show = function() {\r\n\r\n\t\t\t\tif ($menu._lock())\r\n\t\t\t\t\t$body.addClass('is-menu-visible');\r\n\r\n\t\t\t};\r\n\r\n\t\t\t$menu._hide = function() {\r\n\r\n\t\t\t\tif ($menu._lock())\r\n\t\t\t\t\t$body.removeClass('is-menu-visible');\r\n\r\n\t\t\t};\r\n\r\n\t\t\t$menu._toggle = function() {\r\n\r\n\t\t\t\tif ($menu._lock())\r\n\t\t\t\t\t$body.toggleClass('is-menu-visible');\r\n\r\n\t\t\t};\r\n\r\n\t\t\t$menuInner\r\n\t\t\t\t.on('click', function(event) {\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t})\r\n\t\t\t\t.on('click', 'a', function(event) {\r\n\r\n\t\t\t\t\tvar href = $(this).attr('href');\r\n\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t\t// Hide.\r\n\t\t\t\t\t$menu._hide();\r\n\r\n\t\t\t\t\tif (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\r\n\t\t\t\t\t\tvar target = $(this.hash);\r\n\t\t\t\t\t\ttarget = target.length ? target : $('[name=' + this.hash.slice(1) +']');\r\n\t\t\t\t\t\tif (target.length) {\r\n\t\t\t\t\t\t\t$('html, body').animate({\r\n\t\t\t\t\t\t\t\tscrollTop: target.offset().top\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t$menu\r\n\t\t\t\t.appendTo($body)\r\n\t\t\t\t.on('click', function(event) {\r\n\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t$body.removeClass('is-menu-visible');\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.append('<a class=\"close\" href=\"#menu\">Close</a>');\r\n\r\n\t\t\t$body\r\n\t\t\t\t.on('click', 'a[href=\"#menu\"]', function(event) {\r\n\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t// Toggle.\r\n\t\t\t\t\t\t$menu._toggle();\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.on('click', function(event) {\r\n\r\n\t\t\t\t\t// Hide.\r\n\t\t\t\t\t\t$menu._hide();\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.on('keydown', function(event) {\r\n\r\n\t\t\t\t\t// Hide on escape.\r\n\t\t\t\t\t\tif (event.keyCode == 27)\r\n\t\t\t\t\t\t\t$menu._hide();\r\n\r\n\t\t\t\t});\r\n\t\t$('.gallery')\r\n\t\t\t.wrapInner('<div class=\"inner\"></div>')\r\n\t\t\t.prepend(skel.vars.mobile ? '' : '<div class=\"forward\"></div><div class=\"backward\"></div>')\r\n\t\t\t.scrollex({\r\n\t\t\t\ttop:\t\t'30vh',\r\n\t\t\t\tbottom:\t\t'30vh',\r\n\t\t\t\tdelay:\t\t50,\r\n\t\t\t\tinitialize:\tfunction() {\r\n\t\t\t\t\t$(this).addClass('is-inactive');\r\n\t\t\t\t},\r\n\t\t\t\tterminate:\tfunction() {\r\n\t\t\t\t\t$(this).removeClass('is-inactive');\r\n\t\t\t\t},\r\n\t\t\t\tenter:\t\tfunction() {\r\n\t\t\t\t\t$(this).removeClass('is-inactive');\r\n\t\t\t\t},\r\n\t\t\t\tleave:\t\tfunction() {\r\n\r\n\t\t\t\t\tvar $this = $(this);\r\n\r\n\t\t\t\t\tif ($this.hasClass('onscroll-bidirectional'))\r\n\t\t\t\t\t\t$this.addClass('is-inactive');\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.children('.inner')\r\n\t\t\t//.css('overflow', 'hidden')\r\n\t\t\t.css('overflow-y', skel.vars.mobile ? 'visible' : 'hidden')\r\n\t\t\t.css('overflow-x', skel.vars.mobile ? 'scroll' : 'hidden')\r\n\t\t\t.scrollLeft(0);\r\n\r\n\t\t// Style #2.\r\n\t\t$('.gallery')\r\n\t\t\t.on('wheel', '.inner', function(event) {\r\n\r\n\t\t\t\tvar\t$this = $(this),\r\n\t\t\t\t\tdelta = (event.originalEvent.deltaX * 10);\r\n\r\n\t\t\t\t// Cap delta.\r\n\t\t\t\tif (delta > 0)\r\n\t\t\t\t\tdelta = Math.min(25, delta);\r\n\t\t\t\telse if (delta < 0)\r\n\t\t\t\t\tdelta = Math.max(-25, delta);\r\n\r\n\t\t\t\t// Scroll.\r\n\t\t\t\t$this.scrollLeft( $this.scrollLeft() + delta );\r\n\r\n\t\t\t})\r\n\t\t\t.on('mouseenter', '.forward, .backward', function(event) {\r\n\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\t$inner = $this.siblings('.inner'),\r\n\t\t\t\t\tdirection = ($this.hasClass('forward') ? 1 : -1);\r\n\r\n\t\t\t\t// Clear move interval.\r\n\t\t\t\tclearInterval(this._gallery_moveIntervalId);\r\n\r\n\t\t\t\t// Start interval.\r\n\t\t\t\tthis._gallery_moveIntervalId = setInterval(function() {\r\n\t\t\t\t\t$inner.scrollLeft( $inner.scrollLeft() + (5 * direction) );\r\n\t\t\t\t}, 10);\r\n\r\n\t\t\t})\r\n\t\t\t.on('mouseleave', '.forward, .backward', function(event) {\r\n\r\n\t\t\t\t// Clear move interval.\r\n\t\t\t\tclearInterval(this._gallery_moveIntervalId);\r\n\r\n\t\t\t});\r\n\r\n\t\t// Lightbox.\r\n\t\t$('.gallery.lightbox')\r\n\t\t\t.on('click', 'a', function(event) {\r\n\r\n\t\t\t\tvar $a = $(this),\r\n\t\t\t\t\t$gallery = $a.parents('.gallery'),\r\n\t\t\t\t\t$modal = $gallery.children('.modal'),\r\n\t\t\t\t\t$modalImg = $modal.find('img'),\r\n\t\t\t\t\thref = $a.attr('href');\r\n\r\n\t\t\t\t// Not an image? Bail.\r\n\t\t\t\tif (!href.match(/\\.(jpg|gif|png|mp4)$/))\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// Prevent default.\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t// Locked? Bail.\r\n\t\t\t\tif ($modal[0]._locked)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// Lock.\r\n\t\t\t\t$modal[0]._locked = true;\r\n\r\n\t\t\t\t// Set src.\r\n\t\t\t\t$modalImg.attr('src', href);\r\n\r\n\t\t\t\t// Set visible.\r\n\t\t\t\t$modal.addClass('visible');\r\n\r\n\t\t\t\t// Focus.\r\n\t\t\t\t$modal.focus();\r\n\r\n\t\t\t\t// Delay.\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t// Unlock.\r\n\t\t\t\t\t$modal[0]._locked = false;\r\n\r\n\t\t\t\t}, 600);\r\n\r\n\t\t\t})\r\n\t\t\t.on('click', '.modal', function(event) {\r\n\r\n\t\t\t\tvar $modal = $(this),\r\n\t\t\t\t\t$modalImg = $modal.find('img');\r\n\r\n\t\t\t\t// Locked? Bail.\r\n\t\t\t\tif ($modal[0]._locked)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// Already hidden? Bail.\r\n\t\t\t\tif (!$modal.hasClass('visible'))\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// Lock.\r\n\t\t\t\t$modal[0]._locked = true;\r\n\r\n\t\t\t\t// Clear visible, loaded.\r\n\t\t\t\t$modal\r\n\t\t\t\t\t.removeClass('loaded')\r\n\r\n\t\t\t\t// Delay.\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t$modal\r\n\t\t\t\t\t\t.removeClass('visible')\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t\t// Clear src.\r\n\t\t\t\t\t\t$modalImg.attr('src', '');\r\n\r\n\t\t\t\t\t\t// Unlock.\r\n\t\t\t\t\t\t$modal[0]._locked = false;\r\n\r\n\t\t\t\t\t\t// Focus.\r\n\t\t\t\t\t\t$body.focus();\r\n\r\n\t\t\t\t\t}, 475);\r\n\r\n\t\t\t\t}, 125);\r\n\r\n\t\t\t})\r\n\t\t\t.on('keypress', '.modal', function(event) {\r\n\r\n\t\t\t\tvar $modal = $(this);\r\n\r\n\t\t\t\t// Escape? Hide modal.\r\n\t\t\t\tif (event.keyCode == 27)\r\n\t\t\t\t\t$modal.trigger('click');\r\n\r\n\t\t\t})\r\n\t\t\t.prepend('<div class=\"modal\" tabIndex=\"-1\"><div class=\"inner\"><img src=\"\" /></div></div>')\r\n\t\t\t.find('img')\r\n\t\t\t.on('load', function(event) {\r\n\r\n\t\t\t\tvar $modalImg = $(this),\r\n\t\t\t\t\t$modal = $modalImg.parents('.modal');\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t// No longer visible? Bail.\r\n\t\t\t\t\tif (!$modal.hasClass('visible'))\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t// Set loaded.\r\n\t\t\t\t\t$modal.addClass('loaded');\r\n\r\n\t\t\t\t}, 275);\r\n\r\n\t\t\t});\r\n\r\n\r\n\t\t$submitBtn = $(\"#submit\");\r\n\t\t$submitBtn.on('click',function(){\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\t$contactForm = $('#contact-form');\r\n\t\t\t$formErrors = $('#form-errors');\r\n\t\t\tvar data = {};\r\n\t\t\tvar errors = [];\r\n\r\n\t\t\t$contactForm.find(':input').each(function() {\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tvar value = $this.val().replace(/<|>/g, \"\");\r\n\t\t\t\tvar name = $this.attr('name');\r\n\t\t\t\tif (value !== '') {\r\n\t\t\t\t\tdata[name] = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!(typeof name == 'undefined' || name == '' || name == 'undefined')){\r\n\t\t\t\t\t\terrors.push('Field '+name+' is required.');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tdata['g-recaptcha-response'] = grecaptcha.getResponse();\r\n\t\t\tconsole.log(data);\r\n\t\t\tif (errors.length == 0) {\r\n\t\t\t\t// hide the errors\r\n\t\t\t\t$formErrors.html('');\r\n\t\t\t\t// ajax to the php file to send the mail\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\turl: window.location.href+'/contact',\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t}).done(function(data) {\r\n\t\t\t\t\t$(\"#clear\").trigger('click');\r\n\t\t\t\t\t$body.addClass('article-open');\r\n\t\t\t\t\t$('#current-article').find('.content').html(\"Thank you for reaching out. Check your email for confirmation, and we will speak to you soon.\");\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t},5000);\r\n\t\t\t\t}).fail(function(status){\r\n\t\t\t\t\t$formErrors.html(\"A server error has occurred. Please contact the server administrator.\");\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(errors);\r\n\t\t\t\t$formErrors.html('All fields are required.');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n\r\n\r\n})(jQuery);"]}